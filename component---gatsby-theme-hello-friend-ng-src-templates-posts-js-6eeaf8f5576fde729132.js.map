{"version":3,"sources":["webpack://example/../gatsby-theme-hello-friend-ng/src/components/posts.js","webpack://example/../gatsby-theme-hello-friend-ng/src/templates/posts.js"],"names":["title","posts","postsByYear","reduce","groups","post","year","Date","published_at","getFullYear","set","get","Map","postsJSX","forEach","push","className","key","map","id","to","slug","toLocaleDateString","month","day","length","data","pageContext","allFile","nodes","node","childMdx","frontmatter","fields"],"mappings":"oNA8CA,EA3Cc,SAAC,GAAsB,IAApBA,EAAmB,EAAnBA,MAAOC,EAAY,EAAZA,MAChBC,EAAcD,EAAME,QAAO,SAACC,EAAQC,GACxC,IAAMC,EAAO,IAAIC,KAAKF,EAAKG,cAAcC,cAEzC,OAAOL,EAAOM,IAAIJ,EAAX,kBAAsBF,EAAOO,IAAIL,IAAS,IAA1C,CAA+CD,OACrD,IAAIO,KAEDC,EAAW,GAwBjB,OAvBAX,EAAYY,SAAQ,SAACb,EAAOK,GAC1BO,EAASE,KACP,uBAAKC,UAAU,cAAcC,IAAKX,GAChC,uBAAKU,UAAU,aAAaV,GAC5B,sBAAIU,UAAU,cACXf,EAAMiB,KAAI,SAACb,GAAD,OACT,sBAAIW,UAAU,YAAYC,IAAKZ,EAAKc,IAClC,gBAAC,KAAD,CAAMC,GAAIf,EAAKgB,MACb,wBAAML,UAAU,cAAcX,EAAKL,OACnC,wBAAMgB,UAAU,YACb,IAAIT,KAAKF,EAAKG,cAAcc,mBAAmB,QAAS,CACvDC,MAAO,OACPC,IAAK,wBAYrB,wBAAMR,UAAU,SACd,0BAAKhB,GACJC,EAAMwB,OAAS,EACdZ,EAEA,gD,+kBChCD,IAwCP,EAlBsB,SAAC,GAA2B,IAAzBa,EAAwB,EAAxBA,KAAMC,EAAkB,EAAlBA,YAEvB1B,EADQyB,EAAKE,QAAQC,MACPX,KAAI,SAACY,GAAD,gBACnBA,EAAKC,SAASC,aACdF,EAAKG,QAFc,IAGtBd,GAAIW,EAAKX,QAGX,OACE,gBAAC,IAAD,KACE,gBAAC,IAAD,CAAKnB,MAAO2B,EAAY3B,QACxB,gBAAC,IAAD,KACE,gBAAC,EAAD,CAAOC,MAAOA,EAAOD,MAAO2B,EAAY3B","file":"component---gatsby-theme-hello-friend-ng-src-templates-posts-js-6eeaf8f5576fde729132.js","sourcesContent":["import React from \"react\"\r\nimport { Link } from \"gatsby\"\r\n\r\nconst Posts = ({ title, posts }) => {\r\n  const postsByYear = posts.reduce((groups, post) => {\r\n    const year = new Date(post.published_at).getFullYear()\r\n    // Map.prototype.set returns the whole Map object\r\n    return groups.set(year, [...(groups.get(year) || []), post])\r\n  }, new Map())\r\n\r\n  const postsJSX = []\r\n  postsByYear.forEach((posts, year) => {\r\n    postsJSX.push(\r\n      <div className=\"posts-group\" key={year}>\r\n        <div className=\"post-year\">{year}</div>\r\n        <ul className=\"posts-list\">\r\n          {posts.map((post) => (\r\n            <li className=\"post-item\" key={post.id}>\r\n              <Link to={post.slug}>\r\n                <span className=\"post-title\">{post.title}</span>\r\n                <span className=\"post-day\">\r\n                  {new Date(post.published_at).toLocaleDateString(\"en-GB\", {\r\n                    month: \"long\",\r\n                    day: \"numeric\",\r\n                  })}\r\n                </span>\r\n              </Link>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    )\r\n  })\r\n\r\n  return (\r\n    <main className=\"posts\">\r\n      <h1>{title}</h1>\r\n      {posts.length > 0 ? (\r\n        postsJSX\r\n        ) : (\r\n        <p>Nothing here yet.</p>\r\n      )}\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Posts\r\n","import React from \"react\"\nimport { graphql } from \"gatsby\"\nimport Shortcodes from \"../components/shortcodes\"\n\nimport LayoutMain from \"../components/layouts/main\"\nimport Posts from \"../components/posts\"\nimport SEO from \"../components/seo\"\n\nexport const query = graphql`\n  query {\n    allFile(\n      sort: { fields: childMdx___frontmatter___published_at, order: DESC }\n      filter: { sourceInstanceName: { eq: \"post\" } }\n    ) {\n      nodes {\n        childMdx {\n          frontmatter {\n            published_at\n            title\n          }\n        }\n        fields {\n          slug\n        }\n        id\n      }\n    }\n  }\n`\n\nconst PostsTemplate = ({ data, pageContext }) => {\n  const nodes = data.allFile.nodes\n  const posts = nodes.map((node) => ({\n    ...node.childMdx.frontmatter,\n    ...node.fields,\n    id: node.id,\n  }))\n\n  return (\n    <LayoutMain>\n      <SEO title={pageContext.title} />\n      <Shortcodes>\n        <Posts posts={posts} title={pageContext.title} />\n      </Shortcodes>\n    </LayoutMain>\n  )\n}\n\nexport default PostsTemplate\n"],"sourceRoot":""}